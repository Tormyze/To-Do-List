<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>To Do List</title>
</head>
<body>
    <header>
        <h1>TORMYZE <span>HUB</span></h1>
    </header>

    <main id="screen">
        <h1>To Do List</h1>
        <ul id="tasks">
            <li class="note" style="display: none;">
                <h3 class="ntitle">Titulo</h3>
                <p class="ndesc">Lorem ipsum dolor, sit amet consectetur adipisicing elit. Perferendis consectetur debitis, natus veritatis soluta error magnam magni quasi voluptate quibusdam animi qui, dolores similique doloremque harum nostrum aliquid reiciendis asperiores.</p>
            </li>
        </ul>

        <div id="addb"><button id="add">+</button></div>

        <div id="addbox" class="box">
            <input type="text" id="title" placeholder="Note title">

            <textarea type="text" id="desc" placeholder="Description..."></textarea>

            <div id="buttons">
                <button id="save" onclick="save()">Save</button>
                <button id="back" onclick="back()">Back</button>
            </div>
        </div>
    </main>
    
    <footer>
        <ul class="social">
            <li id="github">
                <a href="https://github.com/Tormyze"><img src="img/logo-github.svg" alt="GitHub profile"></a>
            </li>
            <li id="linkedin">
                <a href="https://www.linkedin.com/in/paulojr-tormyze/"><img src="img/logo-linkedin.svg" alt="LinkedIn profile"></a>
            </li>
        </ul>
    </footer>

    <script>
        let notes = 0;
        const screen = document.querySelector("#screen");
        const add = document.querySelector("#add");
        const box = document.querySelector("#addbox");
        const tasksList = document.querySelector("#tasks");

        add.addEventListener("click", () => {
            screen.style.display = "block";
            add.style.display = 'none';
            box.classList.add("open");
        });

        tasksList.addEventListener("click", (e) => {
            const li = e.target.closest("li.note");
            if (!li) return; // click fora da nota
            li.classList.toggle("done");
        });

        function resetScreen(){
            box.classList.remove('open');
            add.style.display = 'inline-block';
            const t = document.getElementById('title');
            const d = document.getElementById('desc');
            if (t) t.value = '';
            if (d) d.value = '';
        }

        function save(){
            const boxtitle = document.getElementById("title").value
            const boxdesc = document.getElementById("desc").value

            if(boxtitle == "" || boxdesc == ""){
                alert(`Must write something!`)
            } else {
                const tasks = document.getElementById("tasks")
                
                let li = document.createElement("li")
                li.classList.add('note')
                li.style.display = 'block'
                
                let h3 = document.createElement("h3")
                h3.classList.add('ntitle')
                h3.innerText = boxtitle
                
                let p = document.createElement("p")
                p.classList.add('ndesc')
                p.innerText = boxdesc
                
                li.appendChild(h3)
                li.appendChild(p)
                tasks.appendChild(li)

                notes++;
                resetScreen();
            }
        }

        function back(){
            resetScreen();
        }
    </script>
</body>
</html>